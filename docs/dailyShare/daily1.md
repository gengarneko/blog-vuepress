# 前端基础 - 命令行

> 本篇文章主要目的在于熟悉以下命令
>
> 1. ls
> 2. cat
> 3. mv
> 4. touch
>
> 以及如何使用 [explainshell.com](https://explainshell.com/) 这个网站

## 目录

[TOC]

## 常用命令 - ls

> 用途：用来打印出当前（或者指定）目录的清单，不仅可以查看文件夹包含的文件，而且可以查看文件权限（包括目录、文件夹、文件权限）、查看目录信息等等。

| 命令 | 全写 | 缩写 |
| ---- | ---- | ---- |
| 罗列 | List | ls   |

### 命令格式

```shell
ls [选项] [目录名]
```

### 常用参数

| 参数           | 释义                                                         |
| -------------- | ------------------------------------------------------------ |
| -a             | 显示所有档案及目录，包括以 `.` 开头的隐含文件                |
| -A             | 同 `-a`，但是不显示 `.` （当前目录）和 `..` （当前目录）     |
| -c             | `-clt`显示列表并且以ctime（文件状态最后改变时间）排序。`-cl` 显示ctime并且以文件名排序 |
| -C             | 多列显示输出结果，这是默认选项                               |
| -d             | 仅显示目录名，而不显示目录下的内容列表。显示符号链接文件本身，而不显示其所指向的目录列表 |
| -f             | 此参数的效果和同时指定 `aU` 参数相同，并关闭 `lst` 参数的效果 |
| -i             | 显示文件索引节点号（inode）。一个索引节点代表一个文件        |
| -k             | 以 KB（千字节）为单位显示文件大小                            |
| -l             | 以长格式显示目录下的内容列表。左到右依次输出文件名、文件类型、权限模式、硬连接数、所有者、组、文件大小和文件的最后修改时间等 |
| -m             | 用 `，` 号区隔每个文件和目录的名称                           |
| -n             | 以用户识别码和群组识别码替代其名称                           |
| -r             | 以文件名反序排列并输出目录内容列表                           |
| -s             | 显示文件和目录的大小，以区块为单位                           |
| -t             | 用文件和目录的更改时间排序                                   |
| -L             | 如果遇到性质为符号链接的文件或目录，直接列出该链接所指向的原始文件或目录 |
| -R             | 递归处理，将指定目录下的所有文件及子目录一并处理             |
| --full-time    | 列出完整的日期与时间                                         |
| --color[=WHEN] | 使用不同的颜色高亮显示不同类型的                             |

### 示例

列出根目录 \ 下的所有目录：

```shell
# ls /
bin               dev   lib         media  net   root     srv  upload  www
boot              etc   lib64       misc   opt   sbin     sys  usr
home  lost+found  mnt    proc  selinux  tmp  var
```

列出目前工作目录下所有名称是 s 开头的文件，越新的排越后面 :

```shell
ls -ltr s*
```

将 /bin 目录以下所有目录及文件详细资料列出 :

```shell
ls -lR /bin
```

列出目前工作目录下所有文件及目录；目录于名称后加 "/", 可执行档于名称后加 "*" :

```shell
ls -AF
```

### 常用命令

| 操作     | 命令          |
| -------- | ------------- |
| 查看路径 | ls [路径]     |
| 查看路径 | ls -a [路径]  |
| 查看路径 | ls -l [路径]  |
| 查看路径 | ls -al [路径] |

> 其余的就自己对着表挨个试着玩吧...本人一般也就用用 `ls -l` 看一下文件信息。

## 常用命令 - cat

> 用途：连接文件或标准输入并打印。常用来显示文件内容，或者将几个文件连接起来显示，或者从标准输入读取内容并显示。

| 命令 | 全写        | 缩写 |
| ---- | ----------- | ---- |
| 串联 | Concatenate | cat  |

### 主要功能

1. 一次显示整个文件：`cat filename`
2. 从键盘创建一个文件：`cat > filename` （只能创建新文件，不能编辑已有文件）
3. 将几个文件合并为一个文件：`cat file1 file2 > file`

### 命令格式

```shell
cat [选项] [文件名]
```

### 常用参数

| 参数 | 释义                                               |
| ---- | -------------------------------------------------- |
| -A   | 等价于 `-vET`                                      |
| -b   | 和 `-n` 相似，只不过对于空白行不编号               |
| -n   | 由 1 开始对所有输出的行数编号                      |
| -e   | 等价于 `-vE`                                       |
| -E   | 每行结束处显示 $                                   |
| -s   | 当遇到有连续两行以上的空白行，就代换为一行的空白行 |
| -t   | 与 `-vT` 等价                                      |
| -T   | 将 TAB 字符显示为 `^I`                             |
| -v   | 使用 `^` 和 `M-` 符号，除了 LFD 和 TAB 之外        |

### 示例

把 file1 的文档内容加上行号后输入 file2 这个文档里：

```shell
cat -n file1 > file2
```

把 file1 和 file2 的文档内容加上行号（空白行不加）之后将内容附加到 file3 文档里：

```shell
cat -b file1 file2 >> file3
```

清空 /etc/file.txt 文档内容：

```shell
cat /dev/null > /etc/file.txt
```

制作软盘的镜像文件：

```shell
cat /dev/fd0 > OUTFILE
```

把 file 写到软盘：

```
cat IMG_FILE > /dev/fd0
```

> 其余的就自己对着表挨个试着玩吧...本人一般也就用用 `cat file` 输出一下文件信息。

## 常用命令 - mv

> 用途：可以用来移动文件或者将文件改名，经常用来备份文件或者目录。

| 命令 | 全写 | 缩写 |
| ---- | ---- | ---- |
| 移动 | Move | mv   |

### 命令格式

```shell
mv [选项] [源文件或目录] [目标文件或目录]
```

### 常用参数

| 参数 | 释义                                                 |
| ---- | ---------------------------------------------------- |
| -b   | 若需覆盖文件，则覆盖前先行备份                       |
| -f   | 强制的意思，如果目标文件已经存在，不会询问而直接覆盖 |
| -i   | 若目标文件已经存在，就会询问是否覆盖                 |
| -u   | 若目标文件已经存在，且 source 比较新，才会更新       |

### 示例

将文件 aaa 更名为 bbb :

```shell
mv aaa bbb
```

将 a 目录放入 x 目录中，如果 x 目录不存在，则该命令将 a 改名为 x：

```shell
mv a/ x 
```

再如将 /usr/test 下的所有文件和目录移到当前目录下，命令行为：

```shell
mv /usr/test/*  . 
```

### 常用命令

| 操作     | 命令               |
| -------- | ------------------ |
| 移动节点 | mv 源路径 目标路径 |

> 其余的就自己对着表挨个试着玩吧...本人一般也就用用 `mv a b` 对文件重命名，或者 `mv a /b/c/d/` 移动文件

## 常用命令 - touch

> 用途：用于修改文件或者目录的时间属性，包括存取时间和更改时间。若文件不存在，系统会建立一个新的文件。

### 命令格式（好长啊......）

```shell
touch [-acfm][-d<日期时间>][-r<参考文件或目录>] [-t<日期时间>][--help][--version][文件或目录…]
```

### 常用参数

| 参数        | 释义                                                         |
| ----------- | ------------------------------------------------------------ |
| -a          | 改变档案的读取时间记录                                       |
| -c          | 假如目的档案不存在，不会建立新的档案。与 `--no-create` 的效果一样 |
| -d          | 设定时间与日期，可以使用各种不同的格式                       |
| -f          | 不使用，是为了与其他 unix 系统的相容性而保留                 |
| -m          | 改变档案的修改时间记录                                       |
| -r          | 使用参考档的时间记录，与 `--file` 的效果一样                 |
| -t          | 设定档案的时间记录，格式与 date 指令相同                     |
| --no-create | 不会建立新档案                                               |
| --help      | 列出指令格式                                                 |
| --version   | 列出版本讯息                                                 |

### 示例

使用指令 `touch` 修改文件 `file` 的时间属性为当前系统时间：

```shell
$ touch file            
```

新建文件 :

```shell
$ touch file    
```

### 常用命令

| 操作             | 命令           |
| ---------------- | -------------- |
| 创建文件         | touch [文件名] |
| 改变文件更新时间 | touch [文件名] |

> 其余的就自己对着表挨个试着玩吧...挺简单的，没什么要说的。

## [explainshell.com](https://explainshell.com/) 的使用

> explainshell.com 是一个用来查看命令行释义的工具站

### 使用流程

1. 输入框输入 `ls -alt` ，点击 `Explain` <button> 搜索 `ls -alt` 的用法：



![1548413675295.png](https://static.xiedaimala.com/xdml/image/b1978f60-856b-4523-98d4-cacc117862ab/2019-1-25-19-35-49.png)1548413675295.png



1. 我们可以看到命令的概括及结构：



![1548413743275.png](https://static.xiedaimala.com/xdml/image/b1978f60-856b-4523-98d4-cacc117862ab/2019-1-25-19-35-55.png)1548413743275.png



1. 我们点开其中一个段落：



![1548413793363.png](https://static.xiedaimala.com/xdml/image/b1978f60-856b-4523-98d4-cacc117862ab/2019-1-25-19-36-2.png)1548413793363.png



1. 可以获得详细的释义~



![1548413838150.png](https://static.xiedaimala.com/xdml/image/b1978f60-856b-4523-98d4-cacc117862ab/2019-1-25-19-36-8.png)1548413838150.png



评分

★★★★★

评语

第 2 题

博客题：请写一篇关于 git 入门的博客，告诉读者如何使用如下命令

1. git init
2. git add
3. git commit -v

建议每个命令用「截图+三句话」介绍一下即可。

学生的回答

# 章 4 命令行 - 作业 2

基础的三个命令：

- git init
- git add
- git commit -v

## git init

创建一个空的 Git 仓库或重新初始化一个现有仓库。

其实就是通过创建版本库（.git）文件，告知 git 此文件夹已经处于 git 的版本控制之下。

git 获得目标文件夹的所有权，对其进行 add、commit、pull 等一些列操作。

```bash
# 打开文件夹
cd test
# 初始化
git init
# 查看是否有 .git 文件夹
ls -a
```

## git add

将修改的文件提交到 **暂存区**，此时，暂存库（stage）中会存有之前 add 的文件。

执行 git add 命令的时候，通过hash函数算出文件名对应的sha-1值，这个值是一个32位的16进制数。

git 会取这个值的前两位作为文件夹名在 .git/objects 文件夹中创建一个文件夹，取值的后30位作为文件名，在.git/objects/文件夹中创建一个文件，git会将原文件内容通过一定的压缩保存在这个文件中。

```bash
# 改动文件
start test.txt
# 查看变动（文件前？）
git status -sb
# 添加单个文件
git add test.txt
# 添加所有改动文件
git add .
# 查看变动（文件前 A）
git status -sb
```

## git commit -m

上面我们将文件添加到暂存区，现在我们使用 git commit -m 将文件提交到缓存区。

`git commit --message <msg>` msg为本次提交操作的注释信息。

在将文件 `git add <file>` 操作后，我在进行`git commit <file>`操作时，事实上是先对`add` 进 `Staged Snapshot` 来的文件进行拍照（快照），然后提交给 `Commit History`。

```bash
# 查看变动（文件前红 A）
git status -sb
# 提交所有改动文件到缓存区
git commit -m "test" 
# 查看变动（文件前绿 A）
git status -sb
```