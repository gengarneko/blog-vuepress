---
title: HTTP 报文内的 HTTP信息
date: 2020-01-31
categories:
 - backEnd
tags:
 - http
---

用于 HTTP 协议交互的信息被称为 HTTP 报文。请求端（客户端）的 HTTP 报文叫做请求报文，响应端的自然叫做响应报文。

## HTTP 报文

HTTP 报文大致可以分为报文首部和报文主体两块。两者由最初出现的空行（CR+LF）来划分。

通常，不一定要有报文主体。

![1550476287842](https://tva1.sinaimg.cn/large/007S8ZIlgy1gfmi9w7smnj30cj03dmy9.jpg)

## 请求报文及响应报文结构

我们来看一下请求报文和响应报文的结构：

![1550476250723](https://tva1.sinaimg.cn/large/007S8ZIlgy1gfmia1vw13j30cj05ign5.jpg)



![1550476362506](https://tva1.sinaimg.cn/large/007S8ZIlgy1gfmi9yk1lwj30cg0b6aeu.jpg)

- **请求行**：包含用于请求的方法，请求 URI 和 HTTP 版本

- **状态行**：包含表明响应结果的状态码，原因短语和 HTTP 版本

- **首部字段**：包含表示请求和响应的各种条件和属性的各类首部。

  ​                   一般有 4 种首部，分别是：通用首部、请求首部、响应首部和实体首部。

- **其他**：可能包含 HTTP 的 RFC 里未定义的首部（Cookie 等）。



## 编码提高效率

报文在传输中，一般会用算法进行压缩，以加快传输速率。

常用的内容编码有以下几种。

-  gzip（GNU zip） 
-  compress（UNIX 系统的标准压缩） 
-  deflate（zlib） 
-  identity（不进行编码）



## 分割发送的分块传输编码

在 HTTP 通信过程中，请求的编码实体资源尚未全部传输完成之前， 浏览器无法显示请求页面。在传输大容量数据时，通过把数据分割成 多块，能够让浏览器逐步显示页面。

这种把实体主体分块的功能称为分块传输编码（Chunked Transfer Coding）。



## 获取部分内容的范围请求

以前，用户不能使用现在这种高速的带宽访问互联网，当时，下载一 个尺寸稍大的图片或文件就已经很吃力了。如果下载过程中遇到网络 中断的情况，那就必须重头开始。为了解决上述问题，需要一种可恢 复的机制。所谓恢复是指能从之前下载中断处恢复下载。 要实现该功能需要指定下载的实体范围。像这样，指定范围发送的请 求叫做范围请求（Range Request）。 对一份 10 000 字节大小的资源，如果使用范围请求，可以只请求 5001~10 000 字节内的资源。